{
"version":3,
"file":"cc_load.js",
"sourceRoot":"file:///",
"sources":["/Users/matthijs/Documents/GIT/cc-quote/src/MainLoad.hx"],
"sourcesContent":["package;\n\nimport js.Browser.*;\nimport js.html.XMLHttpRequest;\n\nclass MainLoad {\n\tvar url = \"_nav.html\";\n\tvar req = new XMLHttpRequest();\n\n\tpublic function new() {\n\t\tloadHTML(url, document.getElementById(\"storage\"));\n\t}\n\n\tfunction loadHTML(?url:String, ?el:js.html.Element) {\n\t\t// your code\n\t\treq.open('GET', url);\n\t\treq.onload = function() {\n\t\t\t// trace(req.response);\n\t\t\tvar body = getBody(req.response);\n\t\t\t// trace(body);\n\t\t\tprocessHTML(body, document.getElementById(\"storage\"));\n\t\t};\n\n\t\treq.onerror = function(error) {\n\t\t\tconsole.error('[JS] error: $error');\n\t\t};\n\n\t\treq.send();\n\t}\n\n\tfunction getBody(html) {\n\t\tvar test:String = html.toLowerCase(); // to eliminate case sensitivity\n\t\tvar x:Int = test.indexOf(\"<body\");\n\t\tif (x == -1)\n\t\t\treturn \"\";\n\n\t\tx = test.indexOf(\">\", x);\n\t\tif (x == -1)\n\t\t\treturn \"\";\n\t\tvar y = test.lastIndexOf(\"</body>\");\n\t\tif (y == -1)\n\t\t\ty = test.lastIndexOf(\"</html>\");\n\t\tif (y == -1)\n\t\t\ty = html.length; // If no HTML then just grab everything till end\n\t\treturn html.slice(x + 1, y);\n\t}\n\n\tfunction processHTML(content:String, target:js.html.Element) {\n\t\ttarget.innerHTML = content;\n\t}\n\n\tstatic public function main() {\n\t\tvar app = new MainLoad();\n\t}\n}\n"],
"names":[],
"mappings":";;eASQ,WAJR;AAAA,CAEW,AAFX,WAEW;CADA,AADX,WACW;CAIT,cAAS,SAAK,+BAAwB;;gBAyCzB,WACb;AAAA,WAAU;;;WAvCX,iBAAoD;AAAA,EAApD;EAEC,cAAU,MAAM;EAChB,kBAAa,WAAW;AAAA,GAEvB,WAAW,eAAQ;GAED,yCAAwB;GAA1C,mBAAY,KAAM;;EAGnB,mBAAc,gBACb;AAAA,wBAAe,iBAAa;;EAG7B;;WAGD,eAAuB;AAAA,EACtB,WAAkB;EAClB,QAAY,aAAa;EACzB,EAAI,MAAK,IACR;AAAA,UAAO;;EAER,IAAI,aAAa,IAAK;EACtB,EAAI,MAAK,IACR;AAAA,UAAO;;EACR,QAAQ,iBAAiB;EACzB,EAAI,MAAK,IACR;AAAA,OAAI,iBAAiB;;EACtB,EAAI,MAAK,IACR;AAAA,OAAI;;EACL,OAAO,WAAW,IAAI,EAAG;;eAG1B,yBACC;AAAA,qBAAmB;;;;;;"
}